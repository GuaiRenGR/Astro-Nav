<!-- 点击粒子效果容器 -->
<div id="particles-container" class="fixed inset-0 pointer-events-none z-[9998]"></div>

<script>
  const container = document.getElementById('particles-container');

  // 粒子颜色数组
  const colors = [
    '#3B82F6', '#8B5CF6', '#EC4899', '#F59E0B',
    '#10B981', '#EF4444', '#06B6D4', '#F97316'
  ];

  // 创建粒子
  function createParticle(x: number, y: number) {
    const particle = document.createElement('div');
    const size = Math.random() * 8 + 4; // 4-12px
    const color = colors[Math.floor(Math.random() * colors.length)];

    // 随机方向和距离
    const angle = Math.random() * Math.PI * 2;
    const velocity = Math.random() * 100 + 50; // 50-150px
    const tx = Math.cos(angle) * velocity;
    const ty = Math.sin(angle) * velocity;

    particle.style.cssText = `
      position: absolute;
      left: ${x}px;
      top: ${y}px;
      width: ${size}px;
      height: ${size}px;
      background: ${color};
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 ${size * 2}px ${color};
    `;

    container?.appendChild(particle);

    // 动画
    const animation = particle.animate([
      {
        transform: 'translate(-50%, -50%) scale(1)',
        opacity: 1
      },
      {
        transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(0)`,
        opacity: 0
      }
    ], {
      duration: 800 + Math.random() * 400,
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
    });

    animation.onfinish = () => particle.remove();
  }

  // 监听点击事件
  document.addEventListener('click', (e) => {
    const particleCount = 8 + Math.floor(Math.random() * 5); // 8-12个粒子

    for (let i = 0; i < particleCount; i++) {
      setTimeout(() => {
        createParticle(e.clientX, e.clientY);
      }, i * 20); // 错开生成时间
    }
  });
</script>
